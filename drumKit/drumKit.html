<!DOCTYPE html>
<html>
    <head>
        <title>
            Drum Kit
        </title>
        <link rel="stylesheet" href="drumKit.css">
    </head>

    <body>
        
        <div class="square" data-key="65">
                <kbd>A</kbd>
                <span class="sound">Clap</span>

        </div>
        
        <div class ="square" data-key="83">
                <kbd>S</kbd>
             <span class="sound">Hihat</span>

        </div>
        <div class="square" data-key="68">
                <kbd>D</kbd>
                <span class="sound">Kick</span>

        </div>
        <div class="square" data-key="70">
                <kbd>F</kbd>
                <span class="sound">OpenHat</span>

        </div>
        <div class="square" data-key="71">
                <kbd>G</kbd>
                <span class="sound">boom</span>

        </div>
        <div class="square" data-key="72">
                <kbd>H</kbd>
                <span class="sound">ride</span>
    
         </div>
         <div class="square" data-key="74">
                <kbd>J</kbd>
                <span class="sound">snare</span>
    
        </div>
        <div class="square" data-key="75">
                <kbd>K</kbd>
                <span class="sound">Tom</span>
    
        </div>
        <div class="square" data-key="76">
                <kbd>L</kbd>
                <span class="sound">tink</span>
    
        </div>
        <audio  data-key="65"src="https://github.com/wesbos/JavaScript30/blob/master/01%20-%20JavaScript%20Drum%20Kit/sounds/boom.wav?raw=true"> </audio>
        <audio data-key="83" src="https://github.com/wesbos/JavaScript30/blob/master/01%20-%20JavaScript%20Drum%20Kit/sounds/clap.wav?raw=true"></audio>
        <audio data-key="68" src="https://github.com/wesbos/JavaScript30/blob/master/01%20-%20JavaScript%20Drum%20Kit/sounds/hihat.wav?raw=true"></audio>
        <audio data-key="70" src="https://github.com/wesbos/JavaScript30/blob/master/01%20-%20JavaScript%20Drum%20Kit/sounds/kick.wav?raw=true"></audio>
        <audio data-key="71" src="https://github.com/wesbos/JavaScript30/blob/master/01%20-%20JavaScript%20Drum%20Kit/sounds/openhat.wav?raw=true"></audio>
        
        <audio data-key="72" src="https://github.com/wesbos/JavaScript30/blob/master/01%20-%20JavaScript%20Drum%20Kit/sounds/ride.wav?raw=true"></audio>
        <audio data-key="74" src="https://github.com/wesbos/JavaScript30/blob/master/01%20-%20JavaScript%20Drum%20Kit/sounds/snare.wav?raw=true"></audio>
        <audio data-key="75" src="https://github.com/wesbos/JavaScript30/blob/master/01%20-%20JavaScript%20Drum%20Kit/sounds/tink.wav?raw=true"></audio>
        <audio data-key="76" src="https://github.com/wesbos/JavaScript30/blob/master/01%20-%20JavaScript%20Drum%20Kit/sounds/tom.wav?raw=true"></audio>
       <script>
           
           window.addEventListener('keydown',function(e)
           {
               //const audio=document.querySelector('audio[data-key=$"{e.keycode}"]');
               const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
               
               if(!audio)
               {
                   return;
               }
               audio.currentTime=0;
    /*           var promise = document.querySelector('audio').play();

        if (promise !== undefined) {
            promise.then(_ => {
                // Autoplay started!
            }).catch(error => {
                // Autoplay was prevented.
                // Show a "Play" button so that user can start playback.
            });
                } */
                audio.play();
                const key = document.querySelector(`.square[data-key="${e.keyCode}"]`);
                console.log(key);
                key.classList.add('playing');


           });
           function removetransition(e)
           {
               //console.log(e);
               if(e.propertyName!=='transform')
               {
                   return;
               }
               console.log(e.propertyName);
               this.classList.remove('playing');
               console.log(this);
           }
           const keys=document.querySelectorAll('.square');
           keys.forEach(square=>square.addEventListener('transitionend',removetransition));
       </script>


    </body>
</html>